--FEITO POR FIELZAO
--TE AMO MANU <3

local ScreenGui = Instance.new("ScreenGui")
local MainFrame = Instance.new("Frame") 
local Title = Instance.new("TextLabel")
local MinimizeBtn = Instance.new("TextButton")
local CloseBtn = Instance.new("TextButton")
local PlayerList = Instance.new("ScrollingFrame")
local UIListLayout = Instance.new("UIListLayout")
local InfoFrame = Instance.new("Frame")

local TweenService = game:GetService("TweenService")
local Players = game:GetService("Players")
local StarterGui = game:GetService("StarterGui")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")

-- Notification inicial
StarterGui:SetCore("SendNotification", {
    Title = "InformaÃ§Ãµes do Jogador",
    Text = "Feito por FielzÃ£o",
    Duration = 3
})

-- Setup da GUI
ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
ScreenGui.ResetOnSpawn = false

MainFrame.Name = "MainFrame"
MainFrame.Parent = ScreenGui
MainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
MainFrame.Position = UDim2.new(0.5, -300, 0.5, -200)
MainFrame.Size = UDim2.new(0, 600, 0, 400)
MainFrame.ClipsDescendants = true

local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 10)
UICorner.Parent = MainFrame

Title.Name = "Title"
Title.Parent = MainFrame
Title.BackgroundTransparency = 1
Title.Position = UDim2.new(0, 10, 0, 5)
Title.Size = UDim2.new(1, -80, 0, 30)
Title.Font = Enum.Font.GothamBold
Title.Text = "InformaÃ§Ãµes do Jogador"
Title.TextColor3 = Color3.fromRGB(220, 220, 220)
Title.TextSize = 18

MinimizeBtn.Name = "MinimizeBtn"
MinimizeBtn.Parent = MainFrame
MinimizeBtn.BackgroundColor3 = Color3.fromRGB(150, 150, 150)
MinimizeBtn.Position = UDim2.new(1, -70, 0, 10)
MinimizeBtn.Size = UDim2.new(0, 20, 0, 20)
MinimizeBtn.Text = "-"
MinimizeBtn.Font = Enum.Font.GothamBold
MinimizeBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
MinimizeBtn.TextSize = 20

CloseBtn.Name = "CloseBtn"
CloseBtn.Parent = MainFrame
CloseBtn.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
CloseBtn.Position = UDim2.new(1, -40, 0, 10)
CloseBtn.Size = UDim2.new(0, 20, 0, 20)
CloseBtn.Text = "X"
CloseBtn.Font = Enum.Font.GothamBold
CloseBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseBtn.TextSize = 14

PlayerList.Name = "PlayerList"
PlayerList.Parent = MainFrame
PlayerList.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
PlayerList.Position = UDim2.new(0, 10, 0, 45)
PlayerList.Size = UDim2.new(0, 200, 1, -55)
PlayerList.CanvasSize = UDim2.new(0, 0, 0, 0)
PlayerList.ScrollBarThickness = 6
PlayerList.AutomaticCanvasSize = Enum.AutomaticSize.Y

InfoFrame.Name = "InfoFrame"
InfoFrame.Parent = MainFrame
InfoFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
InfoFrame.Position = UDim2.new(0, 220, 0, 45)
InfoFrame.Size = UDim2.new(1, -230, 1, -55)

local function createCopyButton(text, parent, pos)
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(0, 20, 0, 20)
    btn.Position = pos
    btn.Parent = parent
    btn.Text = "ðŸ“‹"
    btn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    btn.TextColor3 = Color3.fromRGB(255, 255, 255)
    
    btn.MouseButton1Click:Connect(function()
        setclipboard(text)
        StarterGui:SetCore("SendNotification", {
            Title = "Copiado",
            Text = "InformaÃ§Ã£o copiada!",
            Duration = 2
        })
    end)
end

local function createPlayerButton(player)
    local button = Instance.new("TextButton")
    button.Name = player.Name
    button.Parent = PlayerList
    button.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    button.Size = UDim2.new(1, -10, 0, 40)
    button.Text = player.DisplayName
    button.Font = Enum.Font.GothamSemibold
    button.TextColor3 = Color3.fromRGB(220, 220, 220)
    button.TextSize = 14
    
    button.MouseButton1Click:Connect(function()
        InfoFrame:ClearAllChildren()
        
        -- Info bÃ¡sica
        local infoLabel = Instance.new("TextLabel")
        infoLabel.Size = UDim2.new(1, -20, 0, 120)
        infoLabel.Position = UDim2.new(0, 10, 0, 10)
        infoLabel.BackgroundTransparency = 1
        infoLabel.TextColor3 = Color3.fromRGB(220, 220, 220)
        infoLabel.TextXAlignment = Enum.TextXAlignment.Left
        infoLabel.TextYAlignment = Enum.TextYAlignment.Top
        infoLabel.Font = Enum.Font.Gotham
        infoLabel.TextSize = 14
        infoLabel.Parent = InfoFrame
        
        local info = string.format(
            "Nome: %s\nDisplay Name: %s\nID: %s\nIdade da Conta: %d dias",
            player.Name,
            player.DisplayName,
            player.UserId,
            player.AccountAge
        )
        infoLabel.Text = info
        
        -- BotÃµes de cÃ³pia
        createCopyButton(player.Name, InfoFrame, UDim2.new(1, -40, 0, 10))
        createCopyButton(player.DisplayName, InfoFrame, UDim2.new(1, -40, 0, 30))
        createCopyButton(tostring(player.UserId), InfoFrame, UDim2.new(1, -40, 0, 50))
        
        -- Chat log
        local chatFrame = Instance.new("ScrollingFrame")
        chatFrame.Size = UDim2.new(1, -20, 1, -140)
        chatFrame.Position = UDim2.new(0, 10, 0, 130)
        chatFrame.BackgroundTransparency = 0.9
        chatFrame.ScrollBarThickness = 6
        chatFrame.Parent = InfoFrame
        
        local chatList = Instance.new("UIListLayout")
        chatList.Parent = chatFrame
        chatList.SortOrder = Enum.SortOrder.LayoutOrder
        
        player.Chatted:Connect(function(msg)
            local msgLabel = Instance.new("TextLabel")
            msgLabel.Size = UDim2.new(1, -10, 0, 20)
            msgLabel.BackgroundTransparency = 1
            msgLabel.TextColor3 = Color3.fromRGB(220, 220, 220)
            msgLabel.TextXAlignment = Enum.TextXAlignment.Left
            msgLabel.Font = Enum.Font.Gotham
            msgLabel.TextSize = 12
            msgLabel.Text = string.format("[%s] %s", os.date("%H:%M:%S"), msg)
            msgLabel.Parent = chatFrame
            
            chatFrame.CanvasSize = UDim2.new(0, 0, 0, chatList.AbsoluteContentSize.Y)
            chatFrame.CanvasPosition = Vector2.new(0, chatFrame.AbsoluteCanvasSize.Y)
        end)
    end)
end

for _, player in ipairs(Players:GetPlayers()) do
    createPlayerButton(player)
end

Players.PlayerAdded:Connect(createPlayerButton)
Players.PlayerRemoving:Connect(function(player)
    local btn = PlayerList:FindFirstChild(player.Name)
    if btn then btn:Destroy() end
end)

-- Dragging
local dragging = false
local dragStart = nil
local startPos = nil

MainFrame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = MainFrame.Position
    end
end)

MainFrame.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = false
    end
end)

UserInputService.InputChanged:Connect(function(input)
    if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
        local delta = input.Position - dragStart
        MainFrame.Position = UDim2.new(
            startPos.X.Scale,
            startPos.X.Offset + delta.X,
            startPos.Y.Scale,
            startPos.Y.Offset + delta.Y
        )
    end
end)

-- Minimizar
local minimized = false
MinimizeBtn.MouseButton1Click:Connect(function()
    minimized = not minimized
    
    if minimized then
        local tween = TweenService:Create(MainFrame, TweenInfo.new(0.3), {
            Size = UDim2.new(0, 40, 0, 40),
            BackgroundColor3 = Color3.fromRGB(50, 50, 50)
        })
        tween:Play()
        
        for _, child in pairs(MainFrame:GetChildren()) do
            if child ~= MinimizeBtn then
                child.Visible = false
            end
        end
        MinimizeBtn.Text = "+"
    else
        local tween = TweenService:Create(MainFrame, TweenInfo.new(0.3), {
            Size = UDim2.new(0, 600, 0, 400),
            BackgroundColor3 = Color3.fromRGB(25, 25, 25)
        })
        tween:Play()
        
        for _, child in pairs(MainFrame:GetChildren()) do
            child.Visible = true
        end
        MinimizeBtn.Text = "-"
    end
end)

CloseBtn.MouseButton1Click:Connect(function()
    ScreenGui:Destroy()
end)
        dragInput = input
    end
end)

UserInputService.InputChanged:Connect(function(input)
    if input == dragInput and dragging then
        update(input)
    end
end)

-- Minimize/Close functionality
local minimized = false
local originalSize = MainFrame.Size
local originalPosition = MainFrame.Position

MinimizeBtn.MouseButton1Click:Connect(function()
    minimized = not minimized
    
    if minimized then
        -- Minimize to side of screen
        local tweenInfo = TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
        local sizeTween = TweenService:Create(MainFrame, tweenInfo, {
            Size = UDim2.new(0, 40, 0, 40),
            Position = UDim2.new(1, -50, 0.5, -20)
        })
        sizeTween:Play()
    else
        -- Restore original size and position
        local tweenInfo = TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
        local sizeTween = TweenService:Create(MainFrame, tweenInfo, {
            Size = originalSize,
            Position = originalPosition
        })
        sizeTween:Play()
    end
end)

CloseBtn.MouseButton1Click:Connect(function()
    ScreenGui:Destroy()
end)
